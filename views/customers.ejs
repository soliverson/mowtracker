<h2>Customer List</h2>

<!-- Add Customer Button -->
<div style="margin-bottom: 20px;">
  <a href="/add-customer">
    <button>Add Customer</button>
  </a>
</div>

<div class="customers-container">
  <% customers.forEach(customer => { %>
    <div class="customer-card">
      <h3>
        <a href="/customers/<%= customer.id %>">
          <%= customer.name %>
        </a>
      </h3>
      <p><strong>Phone:</strong> <%= customer.phone || 'N/A' %></p>
      <p><strong>Address:</strong> <%= customer.address || 'N/A' %></p>

      <div class="customer-actions">
        <a href="/customers/<%= customer.id %>/edit">
          <button>Edit</button>
        </a>

        <a href="/calendar/add-appointment?customer=<%= encodeURIComponent(customer.name) %>">
          <button>Schedule Appointment</button>
        </a>

        <form action="/customers/<%= customer.id %>/delete" method="POST" style="display:inline;">
          <button type="submit" onclick="return confirm('Delete this customer?')">Delete</button>
        </form>
      </div>
    </div>
  <% }) %>
</div>
